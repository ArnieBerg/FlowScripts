{
  "FlowScriptName": "BuildTree Phantom Flow",
  "TestConfig": {},
  "SubmissionTimeStamp": "0419124633",
  "LockUsername": null,
  "Comment": "Construct a cgSNP tree from closest genomic neighbours in the database.\r\n",
  "DataSourceType": 0,
  "SerializeDataSteps": false,
  "SampleList": {},
  "SequenceList": [
    "1737637-4",
    "1741278-8",
    "1802921-7",
    "1805577-5",
    "1806503-4",
    "1812676-1",
    "1823843-2",
    "1826127-1",
    "1827333-1",
    "1830309-3",
    "1835425-3",
    "1835428-2",
    "1836504-1",
    "1838792-1",
    "1839416-4",
    "1842020-1",
    "1842021-2",
    "1842633-1",
    "1843676-1",
    "1843855-5",
    "1902731-1",
    "1903031-1",
    "1903855-2",
    "1912700-4",
    "1921247-1",
    "1922805-3",
    "1923869-4",
    "1927908-5",
    "1927910-1",
    "1927913-3",
    "1927916-4",
    "1933359-2",
    "1933359-3",
    "1934051-1",
    "1934051-2",
    "1934051-3",
    "1934051-4",
    "1934052-2",
    "1934052-4",
    "1934345-3",
    "1934819-1",
    "1936559-3",
    "1936940-1",
    "1937074-1",
    "1938035-2",
    "1938688-1",
    "1938690-2",
    "1938693-3",
    "1938696-1",
    "1938696-2",
    "1938700-1",
    "1938700-2",
    "1938700-3",
    "1938700-4",
    "1938891-1",
    "1938891-2",
    "1939584-1",
    "1939584-3",
    "1939748-1",
    "1939748-3",
    "1940325-1",
    "1940325-2",
    "1940325-3",
    "1941725-1",
    "1941725-2",
    "1941725-3",
    "1942701-2",
    "2001185-3",
    "2002508-1",
    "2002963-2",
    "2004349-2",
    "2004349-3",
    "2004349-4",
    "2005045-2",
    "2009414-1",
    "2009414-3",
    "2009414-5",
    "2037399-1",
    "2037399-4",
    "2037403-1",
    "NC_015761.1"
  ],
  "SequenceListChecked": [
    "1737637-4",
    "1741278-8",
    "1802921-7",
    "1805577-5",
    "1806503-4",
    "1812676-1",
    "1823843-2",
    "1826127-1",
    "1827333-1",
    "1830309-3",
    "1835425-3",
    "1835428-2",
    "1836504-1",
    "1838792-1",
    "1839416-4",
    "1842020-1",
    "1842021-2",
    "1842633-1",
    "1843676-1",
    "1843855-5",
    "1902731-1",
    "1903031-1",
    "1903855-2",
    "1912700-4",
    "1921247-1",
    "1922805-3",
    "1923869-4",
    "1927908-5",
    "1927910-1",
    "1927913-3",
    "1927916-4",
    "1933359-2",
    "1933359-3",
    "1934051-1",
    "1934051-2",
    "1934051-3",
    "1934051-4",
    "1934052-2",
    "1934052-4",
    "1934345-3",
    "1934819-1",
    "1936559-3",
    "1936940-1",
    "1937074-1",
    "1938035-2",
    "1938688-1",
    "1938690-2",
    "1938693-3",
    "1938696-1",
    "1938696-2",
    "1938700-1",
    "1938700-2",
    "1938700-3",
    "1938700-4",
    "1938891-1",
    "1938891-2",
    "1939584-1",
    "1939584-3",
    "1939748-1",
    "1939748-3",
    "1940325-1",
    "1940325-2",
    "1940325-3",
    "1941725-1",
    "1941725-2",
    "1941725-3",
    "1942701-2",
    "2001185-3",
    "2002508-1",
    "2002963-2",
    "2004349-2",
    "2004349-3",
    "2004349-4",
    "2005045-2",
    "2009414-1",
    "2009414-3",
    "2009414-5",
    "2037399-1",
    "2037399-4",
    "2037403-1",
    "NC_015761.1"
  ],
  "SequenceDatabaseName": "Samn_Orig130_Ruwani",
  "ParameterFilesToUpload": {
    "[S]/mnt/e/data/Ruwani_Novel_Salmonella_Project_2022/Phylogenetictree_Ref/S.T_LT2_Ref/GCF_000006945.2_ASM694v2_genomic.fna": null
  },
  "ParameterFoldersToUpload": {},
  "SequenceDBPathLinux": "[S]/mnt/e/data/database/Samn_Orig130_Ruwani",
  "SequenceDBPath": "[S]E:\\data\\database\\\\Samn_Orig130_Ruwani\\Samn_Orig130_Ruwani.fasta",
  "SamplesFromLocalDevice": null,
  "SamplesToTransform": null,
  "IsLinux": true,
  "CanRunInLinux": true,
  "DockerBaseImage": "bioseqenv.0.3",
  "Parameters": "BuildTree Phantom@[fast_tree=]\r\nBuildTree Phantom@[threads=4]\r\nBuildTree Phantom@[ref=[S]/mnt/e/data/Ruwani_Novel_Salmonella_Project_2022/Phylogenetictree_Ref/S.T_LT2_Ref/GCF_000006945.2_ASM694v2_genomic.fna]\r\nBuildTree Phantom@[cutoff=.001]\r\nBuildTree Phantom@[linkage=threshold]\r\nBuildTree Phantom@[includeAll=--include_all]\r\nBuildTree Phantom@[OmitStep=False]\r\nBuildTree Phantom@[PublishOutput=False]\r\nBuildTree Phantom@[IgnoreError=False]\r\nBuildTree Phantom@[IncludeOutput=True]\r\nBuildTree Phantom@[IsDocker=True]\r\nBuildTree Phantom@[IsSlurm=True]\r\nBuildTree Phantom@[\u003CIsSLURM\u003E=1]\r\nBuildTree Phantom@[\u003CSLURM_CPUs\u003E=6]\r\nBuildTree Phantom@[\u003CSLURM_GBs\u003E=16]\r\nBuildTree Phantom@[\u003CSLURM_Minutes\u003E=240]\r\nBuildTree_Publish@[\u003CIsSLURM\u003E=1]\r\nBuildTree_Publish@[\u003CSLURM_CPUs\u003E=6]\r\nBuildTree_Publish@[\u003CSLURM_GBs\u003E=16]\r\nBuildTree_Publish@[\u003CSLURM_Minutes\u003E=45]\r\n",
  "OutputPath": "E:\\data\\results\\RNK773\\BuildTree_Phantom_Flow_0419124633",
  "StartWithScript": "Data",
  "ScriptModulesInFlowScript": {
    "GlobalScriptModules": [
      {
        "ModuleName": "BuildTree Phantom",
        "LockUsername": null,
        "Comment": "",
        "WslCommand": {
          "CommandToken": "",
          "FlowScriptToken": null,
          "Command": "# Set up the phantom.fasta database from the samples from the sequence data source.\r\nif [ -f $[O.]phantom.fasta ]\r\nthen\r\n  rm $[O.]phantom.fasta\r\nfi\r\n\r\nif [ -f $[O.]SequenceList.csv ]\r\nthen\r\ncat $[O.]SequenceList.csv | \r\nwhile read line; do\r\n      cat \u0022${line#*,}\u0022 \u003E\u003E $[O.]phantom.fasta\r\ndone\r\nfi\r\n\r\n# Set up the querylist.txt from the samples from the normal data source.\r\nif [ -f $[O.]querylist.txt ]\r\nthen\r\n  rm $[O.]querylist.txt\r\nfi\r\n\r\nif [ -f $[O.]SampleList.csv ]\r\nthen\r\ncat $[O.]SampleList.csv |\r\nwhile read line; do\r\necho \u0022${line#*,}\u0022 \u003E\u003E $[O.]querylist.txt\r\ndone\r\nfi\r\n\r\nq=\u0022\u0022\r\nif [ -f $[O.]querylist.txt ]\r\nthen\r\n   q=\u0022-l $[O.]querylist.txt\u0022 \r\n   # In this case it is possible that no phantom database got created, so create an empty database.\r\n   if [ ! -f $[O.]phantom.fasta ]\r\n   then\r\n     touch $[O.]phantom.fasta \r\n   fi\r\nfi\r\n\r\n@\u003Cconda=seqdb\u003E\r\n@\u003Ccmd=/home/pds_wimmer/JimmyFiles/seqdb/seqdb\u003E\r\n\r\n#FS IsDocker\r\n@\u003Cconda=seqdb\u003E\r\n@\u003Ccmd=/seqdb-1.0/seqdb\u003E\r\n#FS End\r\n\r\nconda run -n @\u003Cconda\u003E @\u003Ccmd\u003E build_tree --linkage @[linkage=threshold] -c @[cutoff=.001] ${q} -r @[ref=] -t @[threads=4] -d $[O.]phantom.fasta -o $[O.] @[fast_tree=--fast_tree] @[includeAll=--include_all]",
          "IsNoop": false,
          "CondaPrefix": "",
          "Parms": [],
          "IncludeStandardOutput": true,
          "IsParallel": false,
          "IsSlurm": true,
          "IsDocker": true,
          "IsLinux": true,
          "LinuxJobRunning": false,
          "SlurmJobID": null,
          "SlurmParms": null,
          "WindowsWorkPath": null,
          "IgnoreExitCode": false,
          "WSLResponse": null,
          "ConditionRun": null,
          "ExitCodeConditionGoto": "",
          "Preprocess": null,
          "StandardOutputConditionGoto": "",
          "HDF_Command": null,
          "Prereqs": [
            "Data"
          ],
          "Thread": 0,
          "StandardOutputBypass": "",
          "WDL": null
        },
        "PublishOutput": false,
        "ConsolidateInput": true,
        "ConsolidatedCmdToken": null,
        "ExpectSamplesHeader": false,
        "RunAfterALLPrereqs": false,
        "RunAfterALLCmdToken": null,
        "OmitStep": false,
        "LastUpdate": "2022-09-16T16:33:56.4582175Z",
        "LastAuthor": "AGB465",
        "ScriptParmsList": [
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "fast_tree",
            "DefaultValue": "--fast_tree",
            "UserValue": "",
            "Description": "Use fast but inaccurate tree building method.",
            "ComboValues": "--fast_tree",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "threads",
            "DefaultValue": "4",
            "UserValue": "4",
            "Description": "Number of threads to use.",
            "ComboValues": null,
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "ref",
            "DefaultValue": "",
            "UserValue": "[S]/mnt/e/data/Ruwani_Novel_Salmonella_Project_2022/Phylogenetictree_Ref/S.T_LT2_Ref/GCF_000006945.2_ASM694v2_genomic.fna",
            "Description": "Reference sequence for variant calling. Required if using default tree building method.",
            "ComboValues": null,
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 5,
            "Validator": "",
            "Extensions": "fasta|",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "cutoff",
            "DefaultValue": ".001",
            "UserValue": ".001",
            "Description": "Cutoff value to filter database matches.",
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 3,
            "Validator": "",
            "Extensions": "",
            "MissingValue": ".001",
            "Public": false
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "linkage",
            "DefaultValue": "threshold",
            "UserValue": "threshold",
            "Description": "Method to define database matches.",
            "ComboValues": "threshold|tophits|cluster",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 4,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "includeAll",
            "DefaultValue": "--include_all",
            "UserValue": "--include_all",
            "Description": "Disables sequence match filtering by adjusting search parameters to include all database sequences.",
            "ComboValues": "--include_all",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "OmitStep",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "PublishOutput",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "IgnoreError",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "IncludeOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "IsDocker",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "IsSlurm",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "\u003CIsSLURM\u003E",
            "DefaultValue": "1",
            "UserValue": "1",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "\u003CSLURM_CPUs\u003E",
            "DefaultValue": "6",
            "UserValue": "6",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "\u003CSLURM_GBs\u003E",
            "DefaultValue": "16",
            "UserValue": "16",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree Phantom",
            "ParmName": "\u003CSLURM_Minutes\u003E",
            "DefaultValue": "240",
            "UserValue": "240",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          }
        ],
        "DockerMountMap": [
          "/mnt/c/BioSeqDB/WSLProxyRoot/RNK773/Work/"
        ],
        "DockerImage": null,
        "UserVariableList": {},
        "IsDocker": true,
        "IsSLURM": true,
        "Slurm_Resource_Request": 2,
        "Slurm_Min_Resources": {
          "CPUs": 2,
          "MemoryGB": 4,
          "Hours": 0.300000012
        },
        "Slurm_Moderate_Resources": {
          "CPUs": 6,
          "MemoryGB": 16,
          "Hours": 4
        },
        "Slurm_Max_Resources": {
          "CPUs": 16,
          "MemoryGB": 64,
          "Hours": 2
        },
        "WDL_Task": null,
        "WDL_Task_Inputs": null,
        "WDL_Task_Outputs": null,
        "CaseNumberList_JSON": null,
        "CaseNumberList_csv": null
      },
      {
        "ModuleName": "BuildTree_Publish",
        "LockUsername": null,
        "Comment": "",
        "WslCommand": {
          "CommandToken": "",
          "FlowScriptToken": null,
          "Command": "cp  $[I{BuildTree Phantom}.]tree.nwk  $[O.]\r\ncp  $[I{BuildTree Phantom}.]metadata_microreact.csv  $[O.]",
          "IsNoop": false,
          "CondaPrefix": "",
          "Parms": [],
          "IncludeStandardOutput": true,
          "IsParallel": false,
          "IsSlurm": false,
          "IsDocker": false,
          "IsLinux": true,
          "LinuxJobRunning": false,
          "SlurmJobID": null,
          "SlurmParms": null,
          "WindowsWorkPath": null,
          "IgnoreExitCode": false,
          "WSLResponse": null,
          "ConditionRun": null,
          "ExitCodeConditionGoto": "",
          "Preprocess": null,
          "StandardOutputConditionGoto": "",
          "HDF_Command": null,
          "Prereqs": [
            "BuildTree Phantom"
          ],
          "Thread": 0,
          "StandardOutputBypass": "",
          "WDL": null
        },
        "PublishOutput": true,
        "ConsolidateInput": false,
        "ConsolidatedCmdToken": null,
        "ExpectSamplesHeader": false,
        "RunAfterALLPrereqs": false,
        "RunAfterALLCmdToken": null,
        "OmitStep": false,
        "LastUpdate": "2022-12-23T06:10:14.5781506-06:00",
        "LastAuthor": "AGB465",
        "ScriptParmsList": [
          {
            "ModuleName": "BuildTree_Publish",
            "ParmName": "\u003CIsSLURM\u003E",
            "DefaultValue": "1",
            "UserValue": "1",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree_Publish",
            "ParmName": "\u003CSLURM_CPUs\u003E",
            "DefaultValue": "6",
            "UserValue": "6",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree_Publish",
            "ParmName": "\u003CSLURM_GBs\u003E",
            "DefaultValue": "16",
            "UserValue": "16",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "BuildTree_Publish",
            "ParmName": "\u003CSLURM_Minutes\u003E",
            "DefaultValue": "45",
            "UserValue": "45",
            "Description": null,
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 2,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          }
        ],
        "DockerMountMap": [],
        "DockerImage": null,
        "UserVariableList": {},
        "IsDocker": false,
        "IsSLURM": true,
        "Slurm_Resource_Request": 2,
        "Slurm_Min_Resources": {
          "CPUs": 2,
          "MemoryGB": 4,
          "Hours": 0.300000012
        },
        "Slurm_Moderate_Resources": {
          "CPUs": 6,
          "MemoryGB": 16,
          "Hours": 0.75
        },
        "Slurm_Max_Resources": {
          "CPUs": 16,
          "MemoryGB": 64,
          "Hours": 2
        },
        "WDL_Task": null,
        "WDL_Task_Inputs": null,
        "WDL_Task_Outputs": null,
        "CaseNumberList_JSON": null,
        "CaseNumberList_csv": null
      }
    ]
  },
  "LastUpdate": "2024-04-19T12:46:41.5358569-06:00",
  "LastAuthor": "RNK773",
  "FindFolders": false,
  "InterfaceAdaptive": false,
  "CommandList": null,
  "RemoveReads": false,
  "SLURM_IsAvailable": true
}