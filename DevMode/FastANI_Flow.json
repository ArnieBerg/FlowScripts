{
  "FlowScriptName": "FastANI Flow",
  "TestConfig": {},
  "SubmissionTimeStamp": "0831120307",
  "LockUsername": null,
  "Comment": "Select one or more fasta query samples to compare against the reference fasta file specified in the runtime parameters. When there are multiple data sample files, they are all compared to the same reference.\r\nSee https://github.com/ParBLiSS/FastANI for details on running FastANI.\r\n",
  "DataSourceType": 0,
  "SerializeDataSteps": false,
  "SampleList": {
    "FastANI_Data000001": "1[S]/mnt/e/data/Arnie/FastANI_Data/1737637-4.fasta",
    "FastANI_Data000002": "1[S]/mnt/e/data/Arnie/FastANI_Data/1741278-8.fasta",
    "FastANI_Data000003": "1[S]/mnt/e/data/Arnie/FastANI_Data/1802921-7.fasta",
    "FastANI_Data000004": "1[S]/mnt/e/data/Arnie/FastANI_Data/1805577-5.fasta",
    "FastANI_Data000005": "1[S]/mnt/e/data/Arnie/FastANI_Data/1806503-4.fasta",
    "FastANI_Data000006": "1[S]/mnt/e/data/Arnie/FastANI_Data/1812676-1.fasta",
    "FastANI_Data000007": "1[S]/mnt/e/data/Arnie/FastANI_Data/1823843-2.fasta"
  },
  "SequenceList": [],
  "SequenceListChecked": [],
  "SequenceDatabaseName": "hpsuis",
  "ParameterFilesToUpload": {},
  "ParameterFoldersToUpload": {},
  "SequenceDBPathLinux": "/mnt/e/data/database/hpsuis",
  "SequenceDBPath": "/mnt/e/data/database/hpsuis/hpsuis.fasta",
  "SamplesFromLocalDevice": null,
  "SamplesToTransform": null,
  "IsLinux": false,
  "CanRunInLinux": true,
  "DockerBaseImage": "bioseqenv.0.3",
  "Parameters": "FastANI Visualize@[reference=[S]/mnt/e/data/Arnie/FastANI_Data//Escherichia_coli_str_K12_MG1655.fna]\r\nFastANI Visualize@[OmitStep=True]\r\nFastANI Visualize@[PublishOutput=True]\r\nFastANI Visualize@[IgnoreError=False]\r\nFastANI Visualize@[IncludeOutput=True]\r\nFastANI Visualize@[IsDocker=False]\r\nFastANI@[OmitStep=False]\r\nFastANI@[PublishOutput=True]\r\nFastANI@[IgnoreError=False]\r\nFastANI@[IncludeOutput=True]\r\nFastANI@[IsDocker=True]\r\n",
  "OutputPath": "[S]E:\\data\\Arnie\\FastANI_Results\\",
  "StartWithScript": "Data",
  "ScriptModulesInFlowScript": {
    "GlobalScriptModules": [
      {
        "ModuleName": "FastANI",
        "LockUsername": null,
        "Comment": "",
        "WslCommand": {
          "CommandToken": "",
          "FlowScriptToken": null,
          "Command": "# FastANI (in ANIclustermap) uses libgsl.so.25. Create a shortcut to libgsl.so.25.0.0.\r\n\r\n# Copy all fasta files listed in SampleList.csv into the minimal_dataset folder.\r\nmkdir $[O.]minimal_dataset\r\nwhile read -r line\r\ndo \r\n   IFS=\u0027,\u0027 read -ra my_array \u003C\u003C\u003C \u0022$line\u0022\r\n   echo \u0022Copy ${my_array[1]}\u0022\r\n   cp \u0022${my_array[1]}\u0022 $[O.]minimal_dataset/.\r\ndone \u003C $[O.]SampleList.csv\r\n\r\n#/NGStools/FastANI/fastANI -q $[D.[SamplePath]] -r @[reference=] --visualize -o $[O.]$[D.[SampleName]]_fastani.out\r\n\r\n# Use ANIclustermap to visualize this mapping.\r\n\r\nif [ -e \u0022@[reference=]\u0022 ]\r\nthen \r\n  cp @[reference=] $[O.]minimal_dataset\r\nfi\r\n\r\nconda run -n aniclustermap ANIclustermap -i $[O.]minimal_dataset -o $[O.]$[V.[SampleName]]_ANIclustermap_Results\r\n\r\n# Put visualize.R in the work folder where it will be accessible to the second visualize step following this script module.\r\ncp /NGStools/FastANI/scripts/visualize.R $[O.]\r\n\r\n",
          "IsNoop": false,
          "CondaPrefix": "",
          "Parms": [],
          "IncludeStandardOutput": true,
          "IsParallel": false,
          "IsSlurm": false,
          "IsDocker": true,
          "IsLinux": false,
          "LinuxJobRunning": false,
          "SlurmJobID": null,
          "SlurmParms": null,
          "WindowsWorkPath": null,
          "IgnoreExitCode": false,
          "WSLResponse": null,
          "ConditionRun": null,
          "ExitCodeConditionGoto": "",
          "Preprocess": null,
          "StandardOutputConditionGoto": "",
          "HDF_Command": null,
          "Prereqs": [
            "Data"
          ],
          "Thread": 0,
          "StandardOutputBypass": "",
          "WDL": null
        },
        "PublishOutput": true,
        "ConsolidateInput": true,
        "ConsolidatedCmdToken": null,
        "ExpectSamplesHeader": false,
        "RunAfterALLPrereqs": false,
        "RunAfterALLCmdToken": null,
        "OmitStep": false,
        "LastUpdate": "2023-09-18T08:53:28.3223735-06:00",
        "LastAuthor": "AGB465",
        "ScriptParmsList": [
          {
            "ModuleName": "FastANI",
            "ParmName": "reference",
            "DefaultValue": "",
            "UserValue": "",
            "Description": "Select a .fasta file to be used as a reference against the query data sample file(s).",
            "ComboValues": null,
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 5,
            "Validator": "",
            "Extensions": "fasta|",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "FastANI",
            "ParmName": "OmitStep",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI",
            "ParmName": "PublishOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI",
            "ParmName": "IgnoreError",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI",
            "ParmName": "IncludeOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI",
            "ParmName": "IsDocker",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          }
        ],
        "DockerMountMap": [
          "/mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/"
        ],
        "DockerImage": "megashipper/fastanienv",
        "UserVariableList": {},
        "IsDocker": true,
        "IsSLURM": true,
        "Slurm_Resource_Request": 0,
        "Slurm_Min_Resources": null,
        "Slurm_Moderate_Resources": null,
        "Slurm_Max_Resources": null,
        "WDL_Task": null,
        "WDL_Task_Inputs": null,
        "WDL_Task_Outputs": null,
        "CaseNumberList_JSON": null,
        "CaseNumberList_csv": null
      },
      {
        "ModuleName": "FastANI Visualize",
        "LockUsername": null,
        "Comment": "",
        "WslCommand": {
          "CommandToken": "",
          "FlowScriptToken": null,
          "Command": "Rscript $[I.]visualize.R $[V.[SamplePath]] @[reference=] $[I.]$[V.[SampleName]]_fastani.out.visual",
          "IsNoop": false,
          "CondaPrefix": "",
          "Parms": [],
          "IncludeStandardOutput": true,
          "IsParallel": false,
          "IsSlurm": false,
          "IsDocker": false,
          "IsLinux": false,
          "LinuxJobRunning": false,
          "SlurmJobID": null,
          "SlurmParms": null,
          "WindowsWorkPath": null,
          "IgnoreExitCode": false,
          "WSLResponse": null,
          "ConditionRun": null,
          "ExitCodeConditionGoto": "",
          "Preprocess": null,
          "StandardOutputConditionGoto": "",
          "HDF_Command": null,
          "Prereqs": [
            "FastANI"
          ],
          "Thread": 0,
          "StandardOutputBypass": "",
          "WDL": null
        },
        "PublishOutput": true,
        "ConsolidateInput": false,
        "ConsolidatedCmdToken": null,
        "ExpectSamplesHeader": false,
        "RunAfterALLPrereqs": false,
        "RunAfterALLCmdToken": null,
        "OmitStep": true,
        "LastUpdate": "2023-09-18T08:53:28.3223735-06:00",
        "LastAuthor": "AGB465",
        "ScriptParmsList": [
          {
            "ModuleName": "FastANI Visualize",
            "ParmName": "reference",
            "DefaultValue": "",
            "UserValue": "[S]/mnt/e/data/Arnie/FastANI_Data//Escherichia_coli_str_K12_MG1655.fna",
            "Description": "Specify the same reference as the FastANI script module.",
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 5,
            "Validator": "",
            "Extensions": "fasta|",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "FastANI Visualize",
            "ParmName": "OmitStep",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI Visualize",
            "ParmName": "PublishOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI Visualize",
            "ParmName": "IgnoreError",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI Visualize",
            "ParmName": "IncludeOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "FastANI Visualize",
            "ParmName": "IsDocker",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          }
        ],
        "DockerMountMap": [],
        "DockerImage": null,
        "UserVariableList": {},
        "IsDocker": false,
        "IsSLURM": true,
        "Slurm_Resource_Request": 0,
        "Slurm_Min_Resources": null,
        "Slurm_Moderate_Resources": null,
        "Slurm_Max_Resources": null,
        "WDL_Task": null,
        "WDL_Task_Inputs": null,
        "WDL_Task_Outputs": null,
        "CaseNumberList_JSON": null,
        "CaseNumberList_csv": null
      }
    ]
  },
  "LastUpdate": "2023-09-18T08:53:28.3223735-06:00",
  "LastAuthor": "AGB465",
  "FindFolders": false,
  "InterfaceAdaptive": false,
  "CommandList": null,
  "RemoveReads": false,
  "SLURM_IsAvailable": false
}