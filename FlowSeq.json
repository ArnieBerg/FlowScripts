{
  "FlowScriptName": "FlowSeq",
  "TestConfig": {},
  "SubmissionTimeStamp": "1028072931",
  "LockUsername": null,
  "Comment": "",
  "DataSourceType": 2,
  "SerializeDataSteps": false,
  "SampleList": {
    "PDS2238346": "1[S]/mnt/e/data/Dreamer/PDS_Diagnostics_2022/PDS2238346_15dec22_Dp/PDS2238346_15dec22_Dp/20221214_1234_X3_FAV39373_f07ffbe1/PDS2238346/"
  },
  "SequenceList": [],
  "SequenceListChecked": [],
  "SequenceDatabaseName": "hpsuis",
  "ParameterFilesToUpload": {},
  "ParameterFoldersToUpload": {
    "[S]/mnt/e/data/Jimmy/samnsero_demo//data_stream/": null
  },
  "SequenceDBPathLinux": "/mnt/e/data/database/hpsuis",
  "SequenceDBPath": "/mnt/e/data/database/hpsuis/hpsuis.fasta",
  "SamplesFromLocalDevice": {},
  "SamplesToTransform": null,
  "IsLinux": false,
  "CanRunInLinux": true,
  "DockerBaseImage": "",
  "Parameters": "SamnSero_RT@[NoReport=--noreport]\r\nSamnSero_RT@[QC=--qc]\r\nSamnSero_RT@[NanoHQ=--nanohq]\r\nSamnSero_RT@[TaxonName=Salmonella enterica]\r\nSamnSero_RT@[TaxonLevel=species]\r\nSamnSero_RT@[GPU=--gpu]\r\nSamnSero_RT@[Trim=--trim]\r\nSamnSero_RT@[Platform=nanopore]\r\nSamnSero_RT@[OmitStep=False]\r\nSamnSero_RT@[PublishOutput=True]\r\nSamnSero_RT@[IgnoreError=False]\r\nSamnSero_RT@[IncludeOutput=True]\r\nSamnSero_RT@[IsDocker=False]\r\n",
  "OutputPath": "[S]E:\\data\\Jimmy\\PDS2238346\\",
  "StartWithScript": "Data",
  "ScriptModulesInFlowScript": {
    "GlobalScriptModules": [
      {
        "ModuleName": "SamnSero_RT",
        "LockUsername": null,
        "Comment": "",
        "WslCommand": {
          "CommandToken": "D1C1",
          "FlowScriptToken": null,
          "Command": "#FS Interface Adaptive\r\n\r\n# Set up the Watch folder.\r\nmkdir $[O.]Data\r\nmkdir $[O.]Proxy\r\nmkdir $[O.]Data/STOP\r\n\r\n# Initiate log file to capture stderr and stdout\r\ntouch $[O.]output.log\r\n\r\ntail -f $[O.]output.log | grep -m 1 Monitor | cut -f10 -d\u0027 \u0027 \u003E $[O.]tower.txt \u0026 \\\r\nnextflow run /home/pds_wimmer/JimmyFiles/SamnSero_Nextflow/main.nf --watchdir $[O.]Data --out_dir $[O.]Reports @[QC=--qc] @[Trim=--trim] @[NanoHQ=--nanohq] @[NoReport=--noreport] @[GPU=--gpu] --taxon_name \u0022@[TaxonName=Salmonella enterica]\u0022 --taxon_level @[TaxonLevel=species] -with-tower --medaka_batchsize 50 --seq_platform @[Platform=nanopore] --centrifuge /mnt/e/data/reference/centrifuge \u0026\u003E $[O.]output.log\r\n\r\necho $? \u003E $[O.]exitcode.txt",
          "IsNoop": false,
          "CondaPrefix": "",
          "Parms": [],
          "IncludeStandardOutput": true,
          "IsParallel": false,
          "IsSlurm": false,
          "IsDocker": false,
          "IsLinux": false,
          "LinuxJobRunning": false,
          "SlurmJobID": null,
          "SlurmParms": null,
          "WindowsWorkPath": null,
          "IgnoreExitCode": false,
          "WSLResponse": null,
          "ConditionRun": null,
          "ExitCodeConditionGoto": "",
          "Preprocess": null,
          "StandardOutputConditionGoto": "",
          "HDF_Command": null,
          "Prereqs": [
            "SamnSero"
          ],
          "Thread": 0,
          "StandardOutputBypass": "",
          "WDL": null
        },
        "PublishOutput": false,
        "ConsolidateInput": false,
        "ConsolidatedCmdToken": "D1C1",
        "ExpectSamplesHeader": false,
        "RunAfterALLPrereqs": false,
        "RunAfterALLCmdToken": null,
        "OmitStep": false,
        "LastUpdate": "2023-09-28T19:21:42.661785-06:00",
        "LastAuthor": "SQA032",
        "ScriptParmsList": [
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "Platform",
            "DefaultValue": "nanopore",
            "UserValue": "nanopore",
            "Description": "Select the sequencing platform used",
            "ComboValues": "nanopore|illumina",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 4,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "Trim",
            "DefaultValue": "--trim",
            "UserValue": "--trim",
            "Description": "Perform adaptor trimming",
            "ComboValues": "--trim",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "GPU",
            "DefaultValue": "--gpu",
            "UserValue": "--gpu",
            "Description": "Accelerate analysis processes with GPU. Only available on WIMMER server node.",
            "ComboValues": "--gpu",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "TaxonLevel",
            "DefaultValue": "species",
            "UserValue": "species",
            "Description": "Taxonomy level of the sequenced organism.",
            "ComboValues": "species|genus|family|order|class|phylum|kingdom|domain",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 4,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "TaxonName",
            "DefaultValue": "Salmonella enterica",
            "UserValue": "Salmonella enterica",
            "Description": "Name of the organism sequenced.",
            "ComboValues": null,
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 0,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "NanoHQ",
            "DefaultValue": "--nanohq",
            "UserValue": "--nanohq",
            "Description": "Optimize genome assembly parameters for Nanopore data basecalled by Guppy v5 SUP models.",
            "ComboValues": "--nanohq",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "QC",
            "DefaultValue": "--qc",
            "UserValue": "--qc",
            "Description": "Assess quality of raw reads and assembled genomes.",
            "ComboValues": "--qc",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "NoReport",
            "DefaultValue": "--noreport",
            "UserValue": "--noreport",
            "Description": "Disable the creation of html reports.",
            "ComboValues": "--noreport",
            "Optional": true,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": "",
            "Extensions": "",
            "MissingValue": "",
            "Public": false
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "OmitStep",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "PublishOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "IgnoreError",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "IncludeOutput",
            "DefaultValue": null,
            "UserValue": "True",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          },
          {
            "ModuleName": "SamnSero_RT",
            "ParmName": "IsDocker",
            "DefaultValue": null,
            "UserValue": "False",
            "Description": null,
            "ComboValues": "True|False",
            "Optional": false,
            "ReadOnly": false,
            "Hidden": false,
            "DeleteFlag": false,
            "DataType": 1,
            "Validator": null,
            "Extensions": null,
            "MissingValue": null,
            "Public": true
          }
        ],
        "DockerMountMap": [],
        "DockerImage": null,
        "UserVariableList": {},
        "IsDocker": false,
        "IsSLURM": true,
        "Slurm_Resource_Request": 0,
        "Slurm_Min_Resources": null,
        "Slurm_Moderate_Resources": null,
        "Slurm_Max_Resources": null,
        "WDL_Task": null,
        "WDL_Task_Inputs": null,
        "WDL_Task_Outputs": null,
        "CaseNumberList_JSON": null,
        "CaseNumberList_csv": null
      }
    ]
  },
  "LastUpdate": "2023-10-28T08:37:27.1159513-06:00",
  "LastAuthor": "AGB465",
  "FindFolders": true,
  "InterfaceAdaptive": true,
  "CommandList": [
    {
      "CommandToken": "D1C1",
      "FlowScriptToken": "SamnSero",
      "Command": "echo 1812676-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1812676-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv\necho 1827333-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1827333-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv\necho 1830060-2,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1830060-2/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv\necho 1903031-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1903031-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv\necho 1921247-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1921247-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv\necho 2005045-2,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/2005045-2/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv\nnextflow run jimmyliu1326/SamnSero_Nextflow -r v1.1 --input /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/samplelist.csv --outdir /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/ --annot --qc --notrim   ",
      "IsNoop": false,
      "CondaPrefix": "",
      "Parms": [],
      "IncludeStandardOutput": true,
      "IsParallel": true,
      "IsSlurm": false,
      "IsDocker": false,
      "IsLinux": false,
      "LinuxJobRunning": false,
      "SlurmJobID": null,
      "SlurmParms": null,
      "WindowsWorkPath": null,
      "IgnoreExitCode": false,
      "WSLResponse": {
        "ExitCode": 0,
        "StandardOutput": null,
        "StandardError": null,
        "LastCommand": null,
        "RestartCount": 0
      },
      "ConditionRun": null,
      "ExitCodeConditionGoto": "",
      "Preprocess": null,
      "StandardOutputConditionGoto": "",
      "HDF_Command": {
        "Command": 0,
        "DBFileName": null,
        "DBPath": null,
        "Dataset": {
          "SequenceList": [],
          "Standard_Reference_Sequence": "",
          "Standard_Reference_Name": ""
        },
        "DatasetName": "",
        "FindIn": "",
        "FindOut": "",
        "Sample": {
          "SampleName": "",
          "SampleDetail": null,
          "LIMSCaseNumber": null,
          "LIMSTestID": null,
          "LIMSSampleID": null,
          "Sequence": null,
          "SampleFileName": null
        }
      },
      "Prereqs": [],
      "Thread": 0,
      "StandardOutputBypass": "",
      "WDL": null
    },
    {
      "CommandToken": "D1C2",
      "FlowScriptToken": "BuscoConsolidate",
      "Command": "echo 1812676-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1812676-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv\necho 1827333-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1827333-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv\necho 1830060-2,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1830060-2/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv\necho 1903031-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1903031-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv\necho 1921247-1,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/1921247-1/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv\necho 2005045-2,/mnt/e/data/Dreamer/Salmonella_serotyping/2022/Salmonella_14June22_DT/Salmonella_14June22_DT/20220614_1224_X3_FAT45607_f9c29905/fastq_pass/2005045-2/ \u003E\u003E /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv\nconda run -n busco busco -m genome -f -i /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C1/assembly/ --out_path /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/ -o BuscoSummary -l bacteria_odb10\n\nwhile read -r line\ndo \n   IFS=\u0027,\u0027 read -ra my_array \u003C\u003C\u003C \u0022$line\u0022\n   echo \u0022Remove ${my_array[0]} subfolders.\u0022\n   rm -rf /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/BuscoSummary/\u0022${my_array[0]}\u0022.fasta/logs\n   rm -rf /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/BuscoSummary/\u0022${my_array[0]}\u0022.fasta/prodigal_output\n   rm -rf /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/BuscoSummary/\u0022${my_array[0]}\u0022.fasta/run_bacteria_odb10\ndone \u003C /mnt/c/BioSeqDB/WSLProxyRoot/AGB465/Work/Salmonella/D1C2/samplelist.csv",
      "IsNoop": false,
      "CondaPrefix": "",
      "Parms": [],
      "IncludeStandardOutput": true,
      "IsParallel": true,
      "IsSlurm": false,
      "IsDocker": false,
      "IsLinux": false,
      "LinuxJobRunning": false,
      "SlurmJobID": null,
      "SlurmParms": null,
      "WindowsWorkPath": null,
      "IgnoreExitCode": false,
      "WSLResponse": {
        "ExitCode": 0,
        "StandardOutput": null,
        "StandardError": null,
        "LastCommand": null,
        "RestartCount": 0
      },
      "ConditionRun": null,
      "ExitCodeConditionGoto": "",
      "Preprocess": null,
      "StandardOutputConditionGoto": "",
      "HDF_Command": {
        "Command": 0,
        "DBFileName": null,
        "DBPath": null,
        "Dataset": {
          "SequenceList": [],
          "Standard_Reference_Sequence": "",
          "Standard_Reference_Name": ""
        },
        "DatasetName": "",
        "FindIn": "",
        "FindOut": "",
        "Sample": {
          "SampleName": "",
          "SampleDetail": null,
          "LIMSCaseNumber": null,
          "LIMSTestID": null,
          "LIMSSampleID": null,
          "Sequence": null,
          "SampleFileName": null
        }
      },
      "Prereqs": [
        "D1C1"
      ],
      "Thread": 0,
      "StandardOutputBypass": "",
      "WDL": null
    }
  ],
  "RemoveReads": false,
  "SLURM_IsAvailable": false
}